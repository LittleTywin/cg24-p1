# Γραφική με Υπολογιστές 2024 
## Εργασία #1: Πλήρωση Τριγώνων
## ONOMA
### [https://github.com/LittleTywin/cg24-p1/](https://github.com/LittleTywin/cg24-p1/)
## AEM
## 7/4/2024
### Διαμόρφωση περιβάλλοντος εκτέλεσης
* Έκδοση Python(*αρχείο runtime.txt*): 
    * 3.7.17
* Βιβλιοθήκες(*αρχείο requirements.txt*):
    * matplotlib
    * numpy

### Περιγραφή λειτουργίας και τρόπου κλήσης των προγραμμάτων
Για την επίδειξη του τρόπου λειτουργίας του προγράμματος παρέχονται δύο scripts τα οποία καλούνται χωρίς εξωτερικά ορίσματα, φορτώνουν τα δεδομένα από το αρχείο hw1.py, πραγματοποιούν το χρωματισμό των τριγώνων και αποθηκεύουν την τελική εικόνα στη διαδρομή ./output_images/. Οι παρακάτω εντολές αλλά και η διαδρομή αποθήκευσης των αποτελεσμάτων προϋποθέτουν πως το working directory είναι ο φάκελος της εργασίας.
```
> python demo_f.py
```
Χρωματίζει τα τρίγωνα εισόδου με τη μεθοδο 'flat' και αποθηκεύει το αποτέλεσμα στο αρχείο `./output_images/flat.png`
```
> python demo_g.py
```
Χρωματίζει τα τρίγωνα εισόδου με τη μέθοδο 'gouraud' και αποθηκεύει το αποτέλεσμα στο αρχείο `./output_images/flat.png`

### Περιγραφή της διαδικασίας χρωματισμού των τριγώνων και παρουσίαση ψευδοκώδικα
Για τη διαδικασία χρωματισμού των τριγώνων τροποποιήθηκε κατάλληλα ο αλγόριθμος πλήρωσης πολυγώνων που περιγράφεται στις σημειώσεις του μαθήματος με τις ακόλουθες τροποποιήσεις:
* Ο αλγόριθμος αφορά μόνο τρίγωνα
* Σε κάθε γραμμή σάρωσης έχουμε μόνο ένα διάστημα πλήρωσης
* Τις οριζόντιες αλλά και τις εκφυλισμένες σε σημεία ακμές(συμπίπτουσες κορυφές) τις εξαιρούμε από το κυρίως μέρος του αλγορίθμου και τις χρωματίζουμε ξεχωριστά στο τέλος.
  

Ο αλγόριθμος που προκύπτει:
```
for k=0:1:2
    βρίσκουμε τα xkmin, xkmax, ykmin, ykmax της ακμής k
end

ymin = min{y0min, y1min, y2min}
ymax = max{y0max, y1max, y2max}

Βρίσκουμε τη <Λίστα Ενεργών Ακμών> για τη γραμμή σάρωσης y = ymin
Βρίσκουμε τη <Λίστα Εξαιρούμενων Ακμών> που αποτελείται από οριζόντιες 
ή εκφυλισμένες σε σημεία ακμές.
Αφαιρούμε τη <Λίστα Εξαιρούμενων Ακμών> από τη <Λίστα Ενεργών Ακμών>
Βρίσκουμε τη <Λίστα Ενεργών Οριακών Σημείων> για τη γραμμή σάρωσης y = ymin

for y=ymin:1:ymax
    Διατάσουμε τη <Λίστα ενεργών οριακών σημείων> ως προς x
    xmin = Πρώτο Στοιχείο από <Λίστα Ενεργών Οριακών Σημείων>
    xmax = Τελευταίο Στοιχείο από <Λίστα Ενεργών Οριακών Σημείων>

    for x=xmin:1:xmax
        draw_pixel(x,y)
    end
    Ενημερώνουμε Αναδρομικα Τη <Λίστα Ενεργών Ακμών> εξαιρώντας τη 
    <Λίστα Εξαιρούμενων Πλευρών>
    Ενημερώνουμε Αναδρομικά Τη <Λίστα Ενεργών Οριακών Σημείων>
end

Χρωματίζουμε τις ακμές που περιέχονται στη <Λίστα Εξαιρούμενων Ακμών>
```

Στην περίπτωση flat shading τα σημεία των τριγώνων χρωματίζονται με το διανυσματικό μέσο των χρωμάτων των κορυφών του.

Στην περίπτωση gouraud shading:
* Για κάθε γραμμή σάρωσης υπολογίζουμε τα χρώματα των ενεργών οριακών σημείων παρεμβάλλοντας γραμικά το κάθε σημείο στα χρώματα των κορυφών της πλευράς που αντιστοιχεί κατά τον άξονα y.
* Ακολούθως υπολογίζουμε τα χρώματα του εκάστοτε σημείου προς χρωματισμό, παρεμβάλλοντας γραμμικά το κάθε σημείο στα χρώματα των ενεργών οριακών σημείων κατά τον άξονα x.

Για τον υπολογισμό των γραμμικών παρεμβολών χρησιμοποιείται η συνάρτηση vector_interp(p1,p2,V1,V2,coord,dim)

### Περιγραφή των παραδοχών που χρησιμοποιήθηκαν

Στη συνάρτηση vector_interp(p1,p2,V1,V2,coord,dim) υποθέτουμε πως το σημείο στο οποίο υπολογίζουμε τη γραμμική παρεμβολή είναι εντός του ευθύγραμμου τμήματος p1p2.

Τα δεδομένα εισόδου υποθέτουμε πως είναι στη σωστή μορφή και δεν εκτελείται κανένας έλεγχος ορθότητας πάνω τους.


### Παρουσίαση ενδεικτικών αποτελεσμάτων

* Αποτέλεσμα του script f_shading.py:
  ![](./output_images/flat.png)
* Αποτέλεσμα του script g_shading.py:
  ![](./output_images/gouraud.png)

<!--![](./output_images/flat.png)-->
